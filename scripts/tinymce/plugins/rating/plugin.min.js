tinymce.PluginManager.add("rating",function(n,t){return n.addButton("rating",{text:"Rating",icon:!1,onclick:function(){n.windowManager.open({title:"Add new rating",url:t+"/dialog.html",width:400,height:100,buttons:[{text:"Add",classes:"widget btn primary",onclick:function(){const t=n.windowManager.getWindows()[0];let e=(a="data_id",t.getContentWindow().document.getElementById(a)).value.trim();var a;e=escape(e),n.insertContent(`<img src="trigger_error" onerror="buildfire.ratingSystem.inject('${e}')" style="display: none">\n                  <div data-rating-id="${e}" style="text-align: center;" data-mce-style="text-align: center;">\n                  <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>\n                  </div><br>`),t.close()}},{text:"Cancel",onclick:function(){n.windowManager.getWindows()[0].close()}}]})}}),{getMetadata:function(){return{name:"Rating Plugin"}}}});