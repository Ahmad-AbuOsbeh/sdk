function showRatingDialog(t,n){t.windowManager.openUrl({title:"Add new rating",url:n+"/dialog.html",width:400,buttons:[{text:"Cancel",type:"cancel"},{text:"Add",type:"custom",name:"Add Rating",primary:!0}],onAction:(t,n)=>{"Add Rating"===n.name&&t.sendMessage({message:"getDataId"})},onMessage:(n,e)=>{let i=e.data.content,a=e.mceAction;if(i&&"setDataId"===a){let e=i.trim();e=escape(e),t.insertContent(`<img src="trigger_errorasd" onerror="typeof buildfire !== 'undefined' && buildfire.ratingSystem.inject()" style="display: none">\n                        <p data-rating-id="${e}-tinymce" style="text-align: center;" data-mce-style="text-align: center;">\n                            &#9733; &#9733; &#9733; &#9733; &#9733;\n                        </p><br>\n                    `),n.close()}}})}tinymce.PluginManager.add("bf_rating",function(t,n){return t.ui.registry.addButton("bf_rating",{text:"Rating",icon:!1,onAction:function(){showRatingDialog(t,n)},showDialog:function(){showRatingDialog(t,n)}}),{getMetadata:function(){return{name:"Rating Plugin"}}}});