function showRatingDialog(n,t){n.windowManager.open({title:"Add new rating",url:t+"/dialog.html",width:400,height:100,buttons:[{text:"Add",classes:"widget btn primary",onclick:function(){const t=n.windowManager.getWindows()[0];let e=(i="data_id",t.getContentWindow().document.getElementById(i)).value.trim();var i;e=escape(e),n.insertContent(`<img src="trigger_errorasd" onerror="typeof buildfire !== 'undefined' && buildfire.ratingSystem.inject()" style="display: none">\n                            <p data-rating-id="${e}-tinymce" style="text-align: center;" data-mce-style="text-align: center;">\n                                &#9733; &#9733; &#9733; &#9733; &#9733;\n                            </p><br>\n                        `),t.close()}},{text:"Cancel",onclick:function(){n.windowManager.getWindows()[0].close()}}]})}tinymce.PluginManager.add("bf_rating",function(n,t){return n.addButton("bf_rating",{text:"Rating",icon:!1,onclick:function(){showRatingDialog(n,t)},showDialog:function(){showRatingDialog(n,t)}}),{getMetadata:function(){return{name:"Rating Plugin"}}}});