function showDialog(t,e){t.windowManager.open({title:"Insert button or link",url:e+"/dialog.html",width:500,height:400,buttons:[{text:"Select Action",classes:"widget btn primary",onclick:function(){const e=t.windowManager.getWindows()[0];e.getContentWindow().validate({},(n,o)=>{if(n)return console.error(n);o&&(e.close(),buildfire.actionItems.showDialog({},{allowNoAction:!0,showIcon:!1,showTitle:!1},(e,n)=>{if(e)return console.error(e);if(!n)return;let i=escape(JSON.stringify(n)),a=document.createElement("button"===o.type?"button":"a");a.className="button"===o.type?"bf-btn bf-btn-"+o.buttonStyle:"bf-text-"+o.buttonStyle,a.setAttribute("data-execute",i),a.setAttribute("onclick",'buildfire.actionItems.execute(JSON.parse(unescape(this.getAttribute("data-execute"))), ()=>{})'),a.innerText=n.title,t.insertContent(a.outerHTML+"&nbsp;")}))})}},{text:"Cancel",onclick:function(){t.windowManager.getWindows()[0].close()}}]})}tinymce.PluginManager.add("bf_buttons",function(t,e){return t.addButton("bf_buttons",{text:"Buttons",icon:!1,onclick:function(){showDialog(t,e)},showDialog:function(){showDialog(t,e)}}),{getMetadata:function(){return{name:"Buttons Plugin"}}}});